

> [!qt] 동일한 프로세스 내의 다른 쓰레드한테 제어권을 넘길지 아니면 다른 프로세스에게 넘길지 그거는 OS가 정하는 건가? 어떤 식이야?



네, 맞아요.  
동일한 프로세스 내의 다른 쓰레드에게 CPU를 줄지, 아니면 완전히 다른 프로세스에게 줄지는 **운영체제(OS)의 스케줄러가 결정**합니다.

### 어떻게 결정되는가?

운영체제의 스케줄러는 아래와 같은 기준으로 CPU 자원을 분배합니다:

1. **준비 상태(Ready)인 쓰레드/프로세스**  
   - 현재 실행 중인 쓰레드가 `sleep()` 등으로 멈추면, OS는 "준비 상태"에 있는 다른 쓰레드나 프로세스 중에서 하나를 선택해 CPU를 할당합니다.

2. **우선순위(Priority)**  
   - 각 쓰레드와 프로세스는 우선순위를 가질 수 있습니다.  
   - 우선순위가 높은 것부터 먼저 실행됩니다.

3. **공정성(Fairness) 및 정책(Scheduling Policy)**  
   - OS마다 라운드 로빈, 우선순위 기반, 멀티레벨 큐 등 다양한 스케줄링 정책을 사용합니다.

4. **동일 프로세스 내 쓰레드 vs. 다른 프로세스**  
   - OS는 "동일 프로세스 내의 다른 쓰레드"와 "다른 프로세스" 모두를 후보로 봅니다.  
   - 둘 중 어느 쪽이 선택될지는 준비 상태, 우선순위, 정책 등에 따라 달라집니다.

### 예시

- 만약 동일한 프로세스 내에 실행 가능한 쓰레드가 있고, 우선순위도 높다면 그 쓰레드가 바로 실행될 수 있습니다.
- 반대로, 다른 프로세스의 쓰레드가 더 우선순위가 높거나, 준비 상태라면 그쪽이 실행될 수도 있습니다.

### 정리

- **어떤 쓰레드/프로세스가 다음에 실행될지는 OS가 알아서 결정**합니다.
- 프로그래머가 직접 "이 쓰레드에게 넘겨라"라고 지정할 수는 없습니다(특수한 경우 제외).
- OS는 전체 시스템의 효율과 공정성을 고려해서 스케줄링합니다.
