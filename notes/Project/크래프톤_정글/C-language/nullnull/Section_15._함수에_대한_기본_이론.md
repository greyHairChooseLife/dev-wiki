# 섹션 15. 함수에 대한 기본 이론



## 90. 사용자 정의 함수 기초 이론


- main 함수는 entry point



## 91. 기초적인 함수 설계 원칙


- **재사용 가능한 단위 코드는 함수로 구현(DRY 원칙)**
  - 유지보수성

- **UI와 기능은 반드시 분리**



## 92. 필수 실습 문제 최댓값을 반환하는 함수

```
/home/sy/jg/dokk-C/실습/14-92.c
```



## 93. 이벤트 루프 구현

- 메뉴 선택하면 해당 기능을 수행하는 것의 반복
  - 보통 프로그램이(특히 GUI가 있으면) 대부분의 프로그램이 채택하는 구조
  - 사용자 인터페이스 출력 및 사용자 입력을 반복하는 구조

- 구조
  ```c
  while ((nMenu = PrintMenu()) != 0){
    if (nMenu == 1) {
      //something
    }
    else if (nMenu == 2) {
      //something else
    }
  }
  ```

  
- 프로세스 "응답없음"이 나타는게 이런 이벤트 루프 도중 사용자 입력대기로 돌아가지 못하고 있는
  상태다.



## 94. 원형 선언과 분할 컴파일


- 함수 원형
  - 다른 말로 **~함수 시그니처~** ==> **함수 프로토타입**
  - 선언과 정의를 분리하는 것
  - 컴파일러에게 함수의 존재를 알리기 위해 코드 상단에 기술
  - 원형만 선언할 때는 매개변수 이름을 생략 가능

  - 함수 내부에서 함수 **선언(프로토타입)**: 가능
  - 함수 내부에서 함수 **정의(본문)**: 불가능


- 분할 컴파일
  - 하나의 프로젝트에 여러 소스코드 파일(`.c`)을 사용하는 경우 각각을 개별로 컴파일 한다.
  - 변수나 함수 선언과 정의가 (다른 파일로) 분리될 수 있음
  - 이때 Link 오류에 주의해야함


- 예시
  > 1. **파일 구조 예시**
  >
  >      ```sh
  >      main.c
  >      foo.c
  >      foo.h
  >      ```
  >
  >      - `foo.h` : 함수 선언(시그니처)만 작성
  >      - `foo.c` : 함수 정의(구현)
  >      - `main.c` : `main()` 함수, `#include "foo.h"`
  >
  >
  >   2. **함수 프로토타입(선언) 위치**
  >
  >      - main 함수가 있는 파일에는  `#include "foo.h"`로 함수 선언만 포함하면 됩니다.
  >      - 함수의 정의(구현)는 별도 `.c` 파일(예: `foo.c`)에 작성합니다.
  >
  >
  >   3. **컴파일 명령어 예시**
  >
  >      각 소스 파일을 개별적으로 컴파일하여 오브젝트 파일(`.o`)을 만든 뒤 링커로 합칩니다.
  >
  >      ```sh
  >      gcc -c main.c   # main.o 생성
  >      gcc -c foo.c    # foo.o 생성
  >      gcc main.o foo.o -o myprog   # 링크하여 실행파일 생성
  >      ```
  >
  >      또는 한 줄로:
  >      ```sh
  >      gcc main.c foo.c -o myprog
  >      ```



## 95. 전역변수와 식별자 검색 순서

- 함수 스코프 바깥에 선언하는 변수

- 웬만하면 쓰지마라
  - 정말정말정말정말 필요할때만 사용해라
  - `g_<name>`처럼 prefix 달아줘라, 쫌

- 식별자 검색 순서
  1. 지역 스코프
  2. 최대 함수 바디
  3. 최대 로컬 파일
  4. 외부 파일까지 확장


