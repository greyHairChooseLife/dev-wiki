**1. 운영체제 커널을 보호하기 위한 조치를 1개 이상 설명하시오.**


1. 커널 영역에 접근 시 커널 권한이 있는지 확인한다.

CS, SS 레지스터의 하위 비트 일부를 Current Privilege Level이라고 하여, 실행할 코드에 접근하거나 스택에 접근할 때 이 CPL을 검증한다.

2. 유저 쓰레드들과는 별도의 페이지 테이블을 사용한다.


---


**2. 커널 모드와 유저모드의 차이점을 설명하시오.**

1. 유저모드에서는 메모리의 유저 영역에만 접근할 수 있다. 반면 커널 모드는 어디에든 접근할 수 있다.
2. 함수(또는 handler) 호출시 사용하는 스택 영역이 다르다. 커널 모드에서는 Thread Control Block의 상단에 해당하는 커널 스택 영역을 사용한다.
3. CS, SS 레지스터의 하위 비트인 CPL이 다르다. 각각 ring0, ring3에 해당하는 특정 값이 복사되어 구분된다.
4. 유저모드에서는 I/O 또는 시스템의 운영에 직접 접근할 수 없다. 이런 작업들은 커널 모드에서만 가능하며, 따라서 유저 모드에서는 필요시 사전 정의된 system call을 호출하여 커널에 제어권을 넘기긴다.


---


**3. 페이지 단위 메모리 관리 관점에서 lazy loading의 장점과 단점을 서술하시오.**


- 장점: 
1. 디스크 I/O 작업을 가능한 적게 수행하여 시스템 전반적으로는 불필요한 I/O 작업량이 감소한다. 
2. 실제로 보유한 메모리의 용량보다 더 큰 크기의 프로그램 또는 파일에도 얼마든지 접근할 수 있다.

- 단점:
1. 페이지 폴트의 발생 하나하나가 오버헤드다. 개별 프로세스 관점에서는 메모리에 로딩되지 않은 주영역에 접근 할 때마다 I/O 작업이 발생하는 감수해야한다.
2. 응용프로그램의 작성자 입장에서 실행 시간을 완전히 보장해줄 수 없다. 1클럭조차 중요한 경우에는 다른 방식이 필요하다.

---

**4. 프로세스 A는 디스크에서 파일을 읽어 네트워크를 통해 외부로 전송하고자 한다. 이 과정에서 사용되는 시스템 콜을 기능별로 나누어 설명하시오. (Pintos에 Network 가 있다고 가정)**


1. open: 
디스크에서 파일을 열고 fd(file descriptor)를 얻는다.

2. (필요시 stat, seek 등으로 파일을 검증하거나 읽을 위치를 정확히 찾는다.)

3. read:
fd를 통해 읽으려는 파일에 접근하여 buffer(메모리)에 복사한다.

4. open:
socket 파일을 열고 (socket)fd를 얻는다.

5. write:
socket이 정상적으로 열렸다면, buffer의 내용만큼을 (socket)fd에 복사한다.

6. ((socket)fd에 복사된 길이와 buffer의 길이를 비교하여 완전히 복사를 마친다. 개행 문자를 EOF로 여기지 않도록 주의한다.)

7. close:
(socket)fd를 반환한다.

8. close:
(디스크에서 읽은 파일의)fd를 반환한다.


---


**5.  램(RAM)과 디스크 간의 페이징 과정에서 보조 페이지 테이블(Supplemental Page Table, SPT)이 사용되는 이유를 서술하시오.**

(이유를 알기 위해서는 페이징에 대한 전반적인 이해가 필요하다.)

페이징 기법을 사용하는 이유는 내/외부 단편화에 대응하기 좋기 때문이다. 또한 프로세스 실행에 정말로 필요한 부분만 메모리에 복사(Demand Paging)하여 I/O 작업을 최소화하고, 시스템이 보유한 실제 메모리 자원을 초과하는 프로세스 또는 프로세스들을 실행할 수 있기 때문이기도 하다.

한편, Demand Paging이 작동되는 방식은 아래와 같다.

1. Page Table을 통해 물리 메모리에 실제로 로딩되어 있는지를 확인
2. (아직 로딩되지 않은 경우) Page Fault를 이르킨다.
3. 이 예외에 대한 handler가 실행되는데, 접근된 가상주소에 해당하는 page가 요구(demanding)된 지금, 물리메모리에 필요한 데이터를 로드(swap in) 해 준다.
4. 그리고 Page Table에 이 내용(mapping)을 담은 entry를 추가해준다.

위에서 3번의 과정을 수행하기 위해서는 swap 영역 또는 disk의 어디에서 어떤 데이터를 물리메모리(frame)에 복사해줄지 알 수 있어야한다. SPT에는 이 작업 수행을 위한 일종의 메타데이터를 저장한다.
Google Forms를 통해 비밀번호를 제출하지 마세요.
